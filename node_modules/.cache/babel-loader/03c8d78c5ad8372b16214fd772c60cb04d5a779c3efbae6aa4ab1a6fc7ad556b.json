{"ast":null,"code":"import React,{Component}from\"react\";import{Switch,Route}from\"react-router-dom\";import data from\"./utils/db\";import Main from\"./components/Main\";import Create from\"./components/Create\";import Login from\"./components/Login\";import{jsx as _jsx}from\"react/jsx-runtime\";class App extends Component{constructor(){super(...arguments);this.state={isLogin:true,stocks:[],category:[]};this.getCategory=data=>{const category=[];data.forEach(e=>{category.push(e.category);});return Array.from(new Set(category));};this.additem=data=>{//TODO: stocked data from create.js\n//TODO: category dropbox fixing\ndata.id=this.state.stocks.length+1;data.price=\"$\"+data.price;data.removed=false;data.stocked=data.stock;this.setState({stocks:[...this.state.stocks,data],category:this.getCategory([...this.state.stocks,data])});};this.handleStocked=isStock=>{// TODO: this works partially, make it work perfectly.\nthis.setState({stocks:isStock?data.filter(e=>e.stocked===isStock):data});};this.handleSelect=category=>{// TODO: this works partially, make it work perfectly.\nthis.setState({stocks:category!==\"All\"?data.filter(e=>e.category===category):data});};this.handleSearch=filteredData=>{console.log(filteredData);if(filteredData!==\"\"){// null, undefined, \"\"\nthis.setState({stocks:this.state.stocks.filter(e=>e.name.indexOf(filteredData)!==-1)});}else{this.setState({stocks:data});}};this.handleRemove=id=>{this.setState({stocks:this.state.stocks.filter(stock=>stock.id!==id)});};}/*  const newItem = [];\n    data.forEach(e => {\n      newItem.push(e.newItem);\n    });\n  };\n*/componentDidMount(){console.log(\"componentDidMount : \",data);this.setState({stocks:data,category:this.getCategory(data)});}render(){const{isLogin,stocks,category}=this.state;console.log(stocks);return/*#__PURE__*/_jsx(Main,{stocks:stocks,category:category,handleSearch:this.handleSearch,handleSelect:this.handleSelect,handleStocked:this.handleStocked,handleRemove:this.handleRemove})// <Switch>\n//   <Route\n//     exact\n//     path=\"/\"\n//     render={() =>\n//       isLogin ? (\n//         <Main\n//           stocks={stocks}\n//           category={category}\n//           handleSearch={this.handleSearch}\n//           handleSelect={this.handleSelect}\n//           handleStocked={this.handleStocked}\n//           handleRemove={this.handleRemove}\n//         />\n//       ) : (\n//         <Login />\n//       )\n//     }\n//   />\n//   <Route path=\"/add\" render={() => <Create additem={this.additem} />} />\n// </Switch>\n;}}export default App;","map":{"version":3,"names":["React","Component","Switch","Route","data","Main","Create","Login","jsx","_jsx","App","constructor","arguments","state","isLogin","stocks","category","getCategory","forEach","e","push","Array","from","Set","additem","id","length","price","removed","stocked","stock","setState","handleStocked","isStock","filter","handleSelect","handleSearch","filteredData","console","log","name","indexOf","handleRemove","componentDidMount","render"],"sources":["/Users/yeonseojung/IdeaProjects/stockmanager/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport data from \"./utils/db\";\nimport Main from \"./components/Main\";\nimport Create from \"./components/Create\";\nimport Login from \"./components/Login\";\n\nclass App extends Component {\n  state = {\n    isLogin: true,\n    stocks: [],\n    category: [],\n  };\n\n  getCategory = (data) => {\n    const category = [];\n    data.forEach((e) => {\n      category.push(e.category);\n    });\n    return Array.from(new Set(category));\n  };\n\n  additem = (data) => {\n    //TODO: stocked data from create.js\n    //TODO: category dropbox fixing\n    data.id = this.state.stocks.length + 1;\n    data.price = \"$\" + data.price;\n    data.removed = false;\n    data.stocked = data.stock;\n    this.setState({\n      stocks: [...this.state.stocks, data],\n      category: this.getCategory([...this.state.stocks, data]),\n    });\n  };\n\n  /*  const newItem = [];\n    data.forEach(e => {\n      newItem.push(e.newItem);\n    });\n  };\n*/\n  componentDidMount() {\n    console.log(\"componentDidMount : \", data);\n    this.setState({\n      stocks: data,\n      category: this.getCategory(data),\n    });\n  }\n\n  handleStocked = (isStock) => {\n    // TODO: this works partially, make it work perfectly.\n    this.setState({\n      stocks: isStock ? data.filter((e) => e.stocked === isStock) : data,\n    });\n  };\n\n  handleSelect = (category) => {\n    // TODO: this works partially, make it work perfectly.\n    this.setState({\n      stocks:\n        category !== \"All\" ? data.filter((e) => e.category === category) : data,\n    });\n  };\n\n  handleSearch = (filteredData) => {\n    console.log(filteredData);\n    if (filteredData !== \"\") {\n      // null, undefined, \"\"\n      this.setState({\n        stocks: this.state.stocks.filter(\n          (e) => e.name.indexOf(filteredData) !== -1\n        ),\n      });\n    } else {\n      this.setState({\n        stocks: data,\n      });\n    }\n  };\n\n  handleRemove = (id) => {\n    this.setState({\n      stocks: this.state.stocks.filter((stock) => stock.id !== id),\n    });\n  };\n\n  render() {\n    const { isLogin, stocks, category } = this.state;\n    console.log(stocks);\n    return (\n        <Main\n            stocks={stocks}\n            category={category}\n            handleSearch={this.handleSearch}\n            handleSelect={this.handleSelect}\n            handleStocked={this.handleStocked}\n            handleRemove={this.handleRemove}\n        />\n      // <Switch>\n      //   <Route\n      //     exact\n      //     path=\"/\"\n      //     render={() =>\n      //       isLogin ? (\n      //         <Main\n      //           stocks={stocks}\n      //           category={category}\n      //           handleSearch={this.handleSearch}\n      //           handleSelect={this.handleSelect}\n      //           handleStocked={this.handleStocked}\n      //           handleRemove={this.handleRemove}\n      //         />\n      //       ) : (\n      //         <Login />\n      //       )\n      //     }\n      //   />\n      //   <Route path=\"/add\" render={() => <Create additem={this.additem} />} />\n      // </Switch>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}